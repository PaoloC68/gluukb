{% load i18n %}

<style>
    div#multiColumn {
    -moz-column-count: 2;
    -moz-column-gap: 20px;
    -webkit-column-count: 2;
    -webkit-column-gap: 20px;
    column-count: 2;
    column-gap: 20px;
}
</style>
<div id="multiColumn">
<ul>
    {% for category in categories %}
        <li>
            <h4><a href="{% url 'knowledge_list_category' category.slug %}">{{ category.title }}</a></h4>
            <ol class="question-list">
                {% for question in questions %}
                    {% if category in question.categories.all %}
                        <li><a href="{{ question.get_absolute_url }}">{{ question.title }}</a>&nbsp;
                            {% if not question.get_responses %}
                                <span class="dk-label dk-label-important">{% trans "no responses" %}</span>
                                {% else %}<span
                                        class="dk-label">{{ question.get_responses|length }}&nbsp;responses</span>{% endif %}
                            &nbsp;
                            {% if question.accepted %}<span class="dk-label dk-label-warning">{% trans "accepted" %}
                                </span>
                                &nbsp;{% endif %} {% if question.user.is_staff %}
                                <span class="dk-label dk-label-success">
                                {% trans "staff" %}</span>&nbsp;{% endif %}
                            <small class="quiet">by {{ question.get_name }}</small>
                        </li>
                    {% endif %}
                {% endfor %}
            </ol>
        </li>
    {% endfor %}
    {% for question in questions %}
    {% if not question.categories.all %}
        <li><a href="{{ question.get_absolute_url }}">{{ question.title }}</a>&nbsp;
            {% if not question.get_responses %}
                <span class="dk-label dk-label-important">{% trans "no responses" %}</span>
                {% else %}<span
                        class="dk-label">{{ question.get_responses|length }}&nbsp;responses</span>{% endif %}
            &nbsp;
            {% if question.accepted %}<span class="dk-label dk-label-warning">{% trans "accepted" %}
                </span>
                &nbsp;{% endif %} {% if question.user.is_staff %}
                <span class="dk-label dk-label-success">
                {% trans "staff" %}</span>&nbsp;{% endif %}
            <small class="quiet">by {{ question.get_name }}</small>
        </li>
    {% endif %}

    {% endfor %}
</ul>
</div>
